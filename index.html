<html>
  <body>
    <title>Cenários SPI - Cenários de mensagens transacionadas pelo SPI/PIX</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
      mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
      body {
        font-family: "proxima-nova", "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 16px;
        line-height: 1.6;
        color: #565867;
        font-weight: 400;
        background: #f3f5f7;
        -webkit-font-smoothing: antialiased;
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent;
        -moz-osx-font-smoothing: grayscale;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -ms-flex-direction: column;
        flex-direction: column;
        margin: 0;  
        max-width: 100%;
        width: 1240px;
        margin-left: auto;
        margin-right: auto;
      }
      p {
        margin: 8px;
      }
      /* Accordion styles */
      input {
        position: absolute;
        opacity: 0;
        z-index: -1;
      }
      .hide {
        display: none;
      }
      /* Accordion styles */
      .tabs {
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 4px -2px rgba(0, 0, 0, 0.5);
      }
      .tab {
        width: 100%;
        color: white;
        overflow: hidden;
      }
      .tab-label {
        display: flex;
        justify-content: space-between;
        padding: 1em;
        background: #2c3e50;
        font-weight: bold;
        cursor: pointer;
        /* Icon */
      }
      .tab-label:hover {
        background: #1a252f;
      }
      .tab-label::after {
        content: "\276F";
        width: 1em;
        height: 1em;
        text-align: center;
        transition: all 0.35s;
      }
      .tab-content {
        max-height: 0;
        padding: 0 1em;
        color: #2c3e50;
        background: white;
        transition: all 0.35s;
      }
      .tab-close {
        display: flex;
        justify-content: flex-end;
        padding: 1em;
        font-size: 0.75em;
        background: #2c3e50;
        cursor: pointer;
      }
      .tab-close:hover {
        background: #1a252f;
      }
      input:checked + .tab-label {
        background: #1a252f;
      }
      input:checked + .tab-label::after {
        transform: rotate(90deg);
      }
      input:checked ~ .tab-content {
        max-height: 1000000vh;
        padding: 1em;
      }
      .separation {
        height: 1px;
        margin: 80px 0;
        background-color: #1a252f;
      }
    </style>
    <h1>Cenários Pix - SPI</h1>
    <p>Todos os possíveis cenários de sucesso e erros nos fluxos de mensagens transacionadas no SPI</p>
    <h2>Por que?</h2>
    <p>Esse projeto tem como objetivo documentar todos os possíveis cenários de sucesso e erros nos fluxos de mensagens transacionadas no SPI. Existem muitas dúvidas ao integrar o sistema do zero e esse material é um reforço em conjunto das casas integrantes para que o ecossistema fique cada dia mais inclusivo e sólido.</p>
    <h2>Informações importantes</h2>
    <ul>
      <li>As informações aqui contidas podem estar desatualizadas, faça testes e use por sua conta e risco;</li>
      <li>Caso encontre alguma informação incorreta, nos ajude criando uma pull request (PR), solicitação de alteração, no GitHub. <a href="https://github.com/guilhermedecampo/pix-spi-scenarios/edit/main/index.html">Clique aqui</a>; </li>
      <li>Acessar o catálogo de serviços do sistema financeiro nacional (SFN) para verificar as informações do BACEN. <a href="https://www.bcb.gov.br/estabilidadefinanceira/comunicacaodados">Clique aqui</a>.</li>
    </ul>
    <h2>Cenários de sucesso</h2>
    <h3>Fluxo Sucesso - Manual</h3>
    <p>Dados do usuário conhecidos</p>
    <h3>Diagrama</h3>
    <div class="mermaid">
      sequenceDiagram
        autonumber
        Usuário Pagador->>Participante Pagador: Envia dados completos do pagamento
        Participante Pagador->>SPI: Verifica prioridade, Bloqueia saldos e envia PACS.008
        SPI->>Participante Recebedor: Bloqueia saldos e envia PACS.008
        Participante Recebedor-->>SPI: Valida conta, anota crédito e envia PACS.002(ACCC)
        par Paralelo
          SPI-->>Participante Recebedor: Ajusta saldo e envia PACS.002(ACSP)
        and
          SPI-->>Participante Pagador: Ajusta saldo e envia PACS.002(ACSC)
        end
        Participante Pagador-->>Usuário Pagador: Envia confirmação de sucesso
        Participante Recebedor-->>Usuário Recebedor: Envia confirmação de sucesso
    </div>
    <h3>Mensagens</h3>
    <!-- thanks for the tabs example: https://codepen.io/raubaca/pen/PZzpVe -->
    <div class="tabs">
      <div class="tab">
        <input type="checkbox" id="chckManu1">
        <label class="tab-label" for="chckManu1">PACS.008 - MANUAL</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/fada6c2e57836d5b0881ab0a28ec1712.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckManu2">
        <label class="tab-label" for="chckManu2">PACS.002 - Confirmação do PARTICIPANTE RECEBEDOR para SPI</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/869e5b64484747f1d013fb16f331c027.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckManu3">
        <label class="tab-label" for="chckManu3">PACS.002 - Confirmação do SPI para PARTICIPANTE RECEBEDOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/f5c02fc4bd064ddb794a8b385629d949.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckManu4">
        <label class="tab-label" for="chckManu4">PACS.002 - Confirmação do SPI para PARTICIPANTE PAGADOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/39029ff5b9e6662a9c0b16333010ecad.js"></script>
        </div>
      </div>
    </div>
    <div class="separation"></div>
    <h3>Fluxo Sucesso - DICT</h3>
    <p>Apenas chave como dados do usuário. Exemplos de chaves abaixo</p>
    <p><b>email:</b> test@email.com</p>
    <p><b>telefone:</b> +5511999999999</p>
    <p><b>CPF/CNPJ:</b> 99999999999/99999999999999</p> 
    <p><b>Chave aleatória:</b> 33fb7bcd-8501-4f8f-afb4-a02a3d1b5bf2</p>
    <h3>Diagrama</h3>
    <div class="mermaid">
      sequenceDiagram
        autonumber
        Usuário Pagador->>Participante Pagador: Envia chave + dados do pagamento
        Participante Pagador ->>DICT: Busca informações sobre a chave no DICT 
        DICT -->> Participante Pagador: Retorna dados da chave para análise e criação da mensagem
        Participante Pagador->>SPI: Analisa chave, Verifica prioridade, Bloqueia saldos e envia PACS.008
        SPI->>Participante Recebedor: Bloqueia saldos e envia PACS.008
        Participante Recebedor-->>SPI: Valida conta, anota crédito e envia PACS.002(ACCC)
        par Paralelo
          SPI-->>Participante Recebedor: Ajusta saldo e envia PACS.002(ACSP)
        and
          SPI-->>Participante Pagador: Ajusta saldo e envia PACS.002(ACSC)
        end
        Participante Pagador-->>Usuário Pagador: Envia confirmação de sucesso
        Participante Recebedor-->>Usuário Recebedor: Envia confirmação de sucesso
    </div>
    <h3>Mensagens</h3>
    <!-- thanks for the tabs example: https://codepen.io/raubaca/pen/PZzpVe -->
    <div class="tabs">
      <div class="tab">
        <input type="checkbox" id="chckDICT1">
        <label class="tab-label" for="chckDICT1">PACS.008 - DICT</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/4f727a3ee8e495bd6a51f643c2b6259d.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckDICT2">
        <label class="tab-label" for="chckDICT2">PACS.002 - Confirmação do PARTICIPANTE RECEBEDOR para SPI</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/869e5b64484747f1d013fb16f331c027.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckDICT3">
        <label class="tab-label" for="chckDICT3">PACS.002 - Confirmação do SPI para PARTICIPANTE RECEBEDOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/f5c02fc4bd064ddb794a8b385629d949.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckDICT4">
        <label class="tab-label" for="chckDICT4">PACS.002 - Confirmação do SPI para PARTICIPANTE PAGADOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/39029ff5b9e6662a9c0b16333010ecad.js"></script>
        </div>
      </div>
    </div>
    <div class="separation"></div>
    <h3>Fluxo Sucesso - QR Code Estático (QRES)</h3>
    <p>Para gerar um QR Code estático é necessário vincular uma chave a esse QR Code. Exemplos de chaves abaixo</p>
    <p><b>email:</b> test@email.com</p>
    <p><b>telefone:</b> +5511999999999</p>
    <p><b>CPF/CNPJ:</b> 99999999999/99999999999999</p> 
    <p><b>Chave aleatória:</b> 33fb7bcd-8501-4f8f-afb4-a02a3d1b5bf2</p>
    <h3>Diagrama</h3>
    <div class="mermaid">
      sequenceDiagram
        autonumber
        Usuário Pagador->>Participante Pagador: Envia EMV (Via leitura de QR Code ou Pix Copia e Cola)
        Participante Pagador->>SPI: Decodifica EMV, Verifica prioridade, Bloqueia saldos e envia PACS.008
        SPI->>Participante Recebedor: Bloqueia saldos e envia PACS.008
        Participante Recebedor-->>SPI: Valida conta, anota crédito e envia PACS.002(ACCC)
        par Paralelo
          SPI-->>Participante Recebedor: Ajusta saldo e envia PACS.002(ACSP)
        and
          SPI-->>Participante Pagador: Ajusta saldo e envia PACS.002(ACSC)
        end
        Participante Pagador-->>Usuário Pagador: Envia confirmação de sucesso
        Participante Recebedor-->>Usuário Recebedor: Envia confirmação de sucesso
    </div>
    <h3>Mensagens</h3>
    <!-- thanks for the tabs example: https://codepen.io/raubaca/pen/PZzpVe -->
    <div class="tabs">
      <div class="tab">
        <input type="checkbox" id="chckQRES1">
        <label class="tab-label" for="chckQRES1">PACS.008 - QRES</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/b3ee9c4964dd8a00ae88621a7bca7657.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRES2">
        <label class="tab-label" for="chckQRES2">PACS.002 - Confirmação do PARTICIPANTE RECEBEDOR para SPI</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/869e5b64484747f1d013fb16f331c027.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRES3">
        <label class="tab-label" for="chckQRES3">PACS.002 - Confirmação do SPI para PARTICIPANTE RECEBEDOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/f5c02fc4bd064ddb794a8b385629d949.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckDQRES4">
        <label class="tab-label" for="chckQRES4">PACS.002 - Confirmação do SPI para PARTICIPANTE PAGADOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/39029ff5b9e6662a9c0b16333010ecad.js"></script>
        </div>
      </div>
    </div>
    <div class="separation"></div>
    <h3>Fluxo Sucesso - QR Code Dinâmico (QRDN)</h3>
    <p>Para gerar um QR Code dinâmico é necessário vincular uma chave a esse QR Code. Exemplos de chaves abaixo</p>
    <p><b>email:</b> test@email.com</p>
    <p><b>telefone:</b> +5511999999999</p>
    <p><b>CPF/CNPJ:</b> 99999999999/99999999999999</p> 
    <p><b>Chave aleatória:</b> 33fb7bcd-8501-4f8f-afb4-a02a3d1b5bf2</p>
    <h3>Diagrama</h3>
    <div class="mermaid">
      sequenceDiagram
        autonumber
        Usuário Pagador->>Participante Pagador: Envia EMV (Via leitura de QR Code ou Pix Copia e Cola)
        Participante Pagador->>SPI: Decodifica EMV, Verifica prioridade, Bloqueia saldos e envia PACS.008
        SPI->>Participante Recebedor: Bloqueia saldos e envia PACS.008
        Participante Recebedor-->>SPI: Valida conta, anota crédito e envia PACS.002(ACCC)
        par Paralelo
          SPI-->>Participante Recebedor: Ajusta saldo e envia PACS.002(ACSP)
        and
          SPI-->>Participante Pagador: Ajusta saldo e envia PACS.002(ACSC)
        end
        Participante Pagador-->>Usuário Pagador: Envia confirmação de sucesso
        Participante Recebedor-->>Usuário Recebedor: Envia confirmação de sucesso
    </div>
    <h3>Mensagens</h3>
    <!-- thanks for the tabs example: https://codepen.io/raubaca/pen/PZzpVe -->
    <div class="tabs">
      <div class="tab">
        <input type="checkbox" id="chckQRDN1">
        <label class="tab-label" for="chckQRDN1">PACS.008 - QRDN</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/db86e75e373f6853fc244f0e7f1f4b9f.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN2">
        <label class="tab-label" for="chckQRDN2">PACS.002 - Confirmação do PARTICIPANTE RECEBEDOR para SPI</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/869e5b64484747f1d013fb16f331c027.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN3">
        <label class="tab-label" for="chckQRDN3">PACS.002 - Confirmação do SPI para PARTICIPANTE RECEBEDOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/f5c02fc4bd064ddb794a8b385629d949.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN4">
        <label class="tab-label" for="chckQRDN4">PACS.002 - Confirmação do SPI para PARTICIPANTE PAGADOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/39029ff5b9e6662a9c0b16333010ecad.js"></script>
        </div>
      </div>
    </div>
    <div class="separation"></div>
    <h3>Fluxo Sucesso - Reembolso / Devolução</h3>
    <p>Devolução ou reembolso é o ato de devolver o valor total ou uma parte de uma transaferência específica. Essa funcionalidade tem o prazo máximo de 90 dias depois do pagamento efetuado com sucesso.</p>
    <h3>Diagrama</h3>
    <div class="mermaid">
      sequenceDiagram
        autonumber
        Usuário Recebedor->>Participante Recebedor: Envia 
        Participante Recebedor->>SPI: Decodifica EMV, Verifica prioridade, Bloqueia saldos e envia PACS.008
        SPI->>Participante Recebedor: Bloqueia saldos e envia PACS.008
        Participante Pagador-->>SPI: Valida conta, anota crédito e envia PACS.002(ACCC)
        par Paralelo
          SPI-->>Participante Pagador: Ajusta saldo e envia PACS.002(ACSP)
        and
          SPI-->>Participante Recebedor: Ajusta saldo e envia PACS.002(ACSC)
        end
        Participante Recebedor-->>Usuário Recebedor: Envia confirmação de sucesso
        Participante Pagador-->>Usuário Pagador: Envia confirmação de sucesso
    </div>
    <h3>Mensagens</h3>
    <!-- thanks for the tabs example: https://codepen.io/raubaca/pen/PZzpVe -->
    <div class="tabs">
      <div class="tab">
        <input type="checkbox" id="chckQRDN1">
        <label class="tab-label" for="chckQRDN1">PACS.004</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/db86e75e373f6853fc244f0e7f1f4b9f.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN2">
        <label class="tab-label" for="chckQRDN2">PACS.002 - Confirmação do PARTICIPANTE RECEBEDOR para SPI</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/869e5b64484747f1d013fb16f331c027.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN3">
        <label class="tab-label" for="chckQRDN3">PACS.002 - Confirmação do SPI para PARTICIPANTE RECEBEDOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/f5c02fc4bd064ddb794a8b385629d949.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN4">
        <label class="tab-label" for="chckQRDN4">PACS.002 - Confirmação do SPI para PARTICIPANTE PAGADOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/39029ff5b9e6662a9c0b16333010ecad.js"></script>
        </div>
      </div>
    </div>
    <div class="separation"></div>
    <h3>Fluxo Sucesso - Pix Troco</h3>
    <p>TBD</p>
    <h3>Diagrama</h3>
    <p>TBD</p>
    <div class="mermaid hide">
      sequenceDiagram
        autonumber
        Usuário Pagador->>Participante Pagador: Envia EMV (Via leitura de QR Code ou Pix Copia e Cola)
        Participante Pagador->>SPI: Decodifica EMV, Verifica prioridade, Bloqueia saldos e envia PACS.008
        SPI->>Participante Recebedor: Bloqueia saldos e envia PACS.008
        Participante Recebedor-->>SPI: Valida conta, anota crédito e envia PACS.002(ACCC)
        par Paralelo
          SPI-->>Participante Recebedor: Ajusta saldo e envia PACS.002(ACSP)
        and
          SPI-->>Participante Pagador: Ajusta saldo e envia PACS.002(ACSC)
        end
        Participante Pagador-->>Usuário Pagador: Envia confirmação de sucesso
        Participante Recebedor-->>Usuário Recebedor: Envia confirmação de sucesso
    </div>
    <h3>Mensagens</h3>
    <p>TBD</p>
    <!-- thanks for the tabs example: https://codepen.io/raubaca/pen/PZzpVe -->
    <div class="tabs hide">
      <div class="tab">
        <input type="checkbox" id="chckQRDN1">
        <label class="tab-label" for="chckQRDN1">PACS.008 - QRDN</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/db86e75e373f6853fc244f0e7f1f4b9f.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN2">
        <label class="tab-label" for="chckQRDN2">PACS.002 - Confirmação do PARTICIPANTE RECEBEDOR para SPI</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/869e5b64484747f1d013fb16f331c027.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN3">
        <label class="tab-label" for="chckQRDN3">PACS.002 - Confirmação do SPI para PARTICIPANTE RECEBEDOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/f5c02fc4bd064ddb794a8b385629d949.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN4">
        <label class="tab-label" for="chckQRDN4">PACS.002 - Confirmação do SPI para PARTICIPANTE PAGADOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/39029ff5b9e6662a9c0b16333010ecad.js"></script>
        </div>
      </div>
    </div>
    <div class="separation"></div>
    <h3>Fluxo Sucesso - Pix Saque</h3>
    <p>TBD</p>
    <h3>Diagrama</h3>
    <p>TBD</p>
    <div class="mermaid hide">
      sequenceDiagram
        autonumber
        Usuário Pagador->>Participante Pagador: Envia EMV (Via leitura de QR Code ou Pix Copia e Cola)
        Participante Pagador->>SPI: Decodifica EMV, Verifica prioridade, Bloqueia saldos e envia PACS.008
        SPI->>Participante Recebedor: Bloqueia saldos e envia PACS.008
        Participante Recebedor-->>SPI: Valida conta, anota crédito e envia PACS.002(ACCC)
        par Paralelo
          SPI-->>Participante Recebedor: Ajusta saldo e envia PACS.002(ACSP)
        and
          SPI-->>Participante Pagador: Ajusta saldo e envia PACS.002(ACSC)
        end
        Participante Pagador-->>Usuário Pagador: Envia confirmação de sucesso
        Participante Recebedor-->>Usuário Recebedor: Envia confirmação de sucesso
    </div>
    <h3>Mensagens</h3>
    <p>TBD</p>
    <!-- thanks for the tabs example: https://codepen.io/raubaca/pen/PZzpVe -->
    <div class="tabs hide">
      <div class="tab">
        <input type="checkbox" id="chckQRDN1">
        <label class="tab-label" for="chckQRDN1">PACS.008 - QRDN</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/db86e75e373f6853fc244f0e7f1f4b9f.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN2">
        <label class="tab-label" for="chckQRDN2">PACS.002 - Confirmação do PARTICIPANTE RECEBEDOR para SPI</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/869e5b64484747f1d013fb16f331c027.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN3">
        <label class="tab-label" for="chckQRDN3">PACS.002 - Confirmação do SPI para PARTICIPANTE RECEBEDOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/f5c02fc4bd064ddb794a8b385629d949.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN4">
        <label class="tab-label" for="chckQRDN4">PACS.002 - Confirmação do SPI para PARTICIPANTE PAGADOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/39029ff5b9e6662a9c0b16333010ecad.js"></script>
        </div>
      </div>
    </div>
    <div class="separation"></div>
    <h2>Cenários de erros</h2>
    <h3>Erros ocasionados no SPI</h3>
    <div class="separation"></div>
    <h3>Erros ocasionados no Recebedor</h3>
    <div class="separation"></div>
    <h3>Erros/Fraudes ocasionados no Pagador</h3>
    <div class="separation"></div>
    <h3>Fluxo Sucesso - Mecanismo especial de devolução</h3>
    <p>O mecanismo especial de devolução permite que bancos revertam operações realizadas por falha ou suspeita de fraude.</p>
    <h3>Diagrama</h3>
    <div class="mermaid">
      sequenceDiagram
        autonumber
        Usuário Recebedor->>Participante Recebedor: Envia 
        Participante Recebedor->>SPI: Decodifica EMV, Verifica prioridade, Bloqueia saldos e envia PACS.008
        SPI->>Participante Recebedor: Bloqueia saldos e envia PACS.008
        Participante Pagador-->>SPI: Valida conta, anota crédito e envia PACS.002(ACCC)
        par Paralelo
          SPI-->>Participante Pagador: Ajusta saldo e envia PACS.002(ACSP)
        and
          SPI-->>Participante Recebedor: Ajusta saldo e envia PACS.002(ACSC)
        end
        Participante Recebedor-->>Usuário Recebedor: Envia confirmação de sucesso
        Participante Pagador-->>Usuário Pagador: Envia confirmação de sucesso
    </div>
    <h3>Mensagens</h3>
    <!-- thanks for the tabs example: https://codepen.io/raubaca/pen/PZzpVe -->
    <div class="tabs">
      <div class="tab">
        <input type="checkbox" id="chckQRDN1">
        <label class="tab-label" for="chckQRDN1">PACS.004</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/db86e75e373f6853fc244f0e7f1f4b9f.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN2">
        <label class="tab-label" for="chckQRDN2">PACS.002 - Confirmação do PARTICIPANTE RECEBEDOR para SPI</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/869e5b64484747f1d013fb16f331c027.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN3">
        <label class="tab-label" for="chckQRDN3">PACS.002 - Confirmação do SPI para PARTICIPANTE RECEBEDOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/f5c02fc4bd064ddb794a8b385629d949.js"></script>
        </div>
      </div>
      <div class="tab">
        <input type="checkbox" id="chckQRDN4">
        <label class="tab-label" for="chckQRDN4">PACS.002 - Confirmação do SPI para PARTICIPANTE PAGADOR</label>
        <div class="tab-content">
          <script src="https://gist.github.com/guilhermedecampo/39029ff5b9e6662a9c0b16333010ecad.js"></script>
        </div>
      </div>
    </div>
  </body>
</html>
